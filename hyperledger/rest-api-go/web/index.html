<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Page</title>
</head>
<body>
    <label for="assetIdInput">Asset ID:</label>
    <input type="text" id="assetIdInput" placeholder="Enter Asset ID" value="Asset115">
    <button id="queryDemo">Query Demo</button>
    <button id="invokeDemo">Invoke Demo</button>
     <div id="result"></div>

    <script>

document.getElementById('queryDemo').addEventListener('click', function() {
            let assetId = document.getElementById('assetIdInput').value;
            fetch(`http://web3demo.vitaomics.com:3000/query?channelid=mychannel&chaincodeid=basic&function=ReadAsset&args=${encodeURIComponent(assetId)}`) 
                .then(response => response.json())
        .then(data => {
            document.getElementById('result').innerText = 'Query Result: ' + JSON.stringify(data);
        })

                .catch(error => console.error('Error:', error));
        });

        document.getElementById('invokeDemo').addEventListener('click', function() {
	    let assetId = document.getElementById('assetIdInput').value;
            let args = [assetId, 'yellow', '54', 'Tom', '13005'];
            let body = `channelid=mychannel&chaincodeid=basic&function=createAsset&` + args.map((arg, index) => `args=${encodeURIComponent(arg)}`).join('&');

            fetch('http://web3demo.vitaomics.com:3000/invoke', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: body
            })
                .then(response => response.json())
	        .then(data => {
                    document.getElementById('result').innerText = 'Invoke Success: ' + JSON.stringify(data);
                })
                .catch(error => console.error('Error:', error));
        });
    </script>
</body>
</html>

